{"version":3,"sources":["services/dbpersons.js","App.js","index.js"],"names":["dbpersons","axios","get","then","response","data","newObject","post","id","delete","concat","Number","_ref","person","handleDelete","react_default","a","createElement","name","phone","onClick","Numbers","_ref2","persons","map","App_Number","key","Form","_ref3","addNumber","newName","handleNameChange","newPhone","handlePhoneChange","onSubmit","value","onChange","type","Filter","_ref4","filter","handleFilterChange","Notification","_ref5","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","App_Notification","App_Form","event","preventDefault","newNumber","indexOf","returnedPerson","setTimeout","target","App_Filter","App_Numbers","toLowerCase","includes","console","log","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.1a99ca85.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deletePerson\r\n}","import React, { useState, useEffect } from 'react';\r\nimport personsService from './services/dbpersons';\r\nimport './App.css'\r\n\r\nconst Number = ({ person, handleDelete }) => {\r\n  return (\r\n    <p>\r\n      {person.name}: {person.phone}\r\n      <button id={person.id} onClick={handleDelete}>delete</button>\r\n    </p>\r\n  );\r\n}\r\n\r\nconst Numbers = ({ persons, handleDelete }) => {\r\n  return (\r\n    persons.map((person) => <Number key={person.name} person={person} handleDelete={handleDelete} />)\r\n  );\r\n}\r\n\r\nconst Form = ({ addNumber,\r\n                newName,\r\n                handleNameChange,\r\n                newPhone,\r\n                handlePhoneChange }) => {\r\n  return (\r\n    <form onSubmit={addNumber}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          phone: <input value={newPhone} onChange={handlePhoneChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter: <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newPhone, setNewPhone] = useState('');\r\n  const [filter, setFilter] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personsService.getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons);\r\n      });\r\n  }, []);\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n\r\n  const handlePhoneChange = (event) => {\r\n    setNewPhone(event.target.value);\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const handleDelete = (event) => {\r\n    const id = event.target.id;\r\n    console.log(id);\r\n    personsService.deletePerson(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(person => person.id != id));\r\n      })\r\n  }\r\n\r\n  const addNumber = (event) => {\r\n    event.preventDefault();\r\n    const newNumber = {\r\n      name: newName,\r\n      phone: newPhone\r\n    }\r\n\r\n    if (persons.map(person => person.name).indexOf(newNumber.name) < 0) {\r\n      personsService.create(newNumber)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson));\r\n        });\r\n      setErrorMessage(\"Person added to the phonebook\")\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 3000);\r\n    } else {\r\n      setErrorMessage(\"Person already in the phonebook\")\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 3000);\r\n    }\r\n    setNewName('');\r\n    setNewPhone('');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} />\r\n      <Form addNumber={addNumber}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newPhone={newPhone}\r\n        handlePhoneChange={handlePhoneChange} />\r\n      <h2>Numbers</h2>\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n      <Numbers persons={persons.filter(person =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase()))} handleDelete={handleDelete} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}